actions:
  - name: acceptOrgInvite
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/organization/invite/accept'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: canApplyPromoCode
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/promocode/can-apply'
    permissions:
      - role: unverified
      - role: tt-admin
      - role: tt-ops
      - role: trainer
      - role: user
    comment: Checks whether a promo code can be applied to a given course by the current user
  - name: cancelIndividualFromCourse
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/participant/cancel/individual'
    permissions:
      - role: user
  - name: cancelMyselfFromCourse
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/participant/cancel/self'
    permissions:
      - role: user
  - name: confirmCreditCardPayment
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/stripe/confirm-cc-payment'
    permissions:
      - role: unverified
      - role: user
    comment: confirmCreditCardPayment
  - name: createOrder
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/order/create'
    permissions:
      - role: tt-admin
      - role: unverified
      - role: tt-ops
      - role: trainer
      - role: user
    comment: Attempts to create a new Order
  - name: createStripeSubscription
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/stripe/subscriptions/create'
    comment: Creates a membership subscription
  - name: createUser
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/create'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: declineInvite
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/invite/decline'
      forward_client_headers: true
  - name: declineOrgInvite
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/organization/invite/decline'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: deleteUser
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/delete'
    permissions:
      - role: tt-admin
    comment: Delete users
  - name: eligibleTransferCourses
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/transfer/eligible-courses'
    permissions:
      - role: user
    comment: eligibleTransferCourses
  - name: fetchPlans
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/stripe/prices/list'
    comment: Fetches membership plans
  - name: getCoursePricing
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/course/price'
    permissions:
      - role: user
      - role: unverified
    comment: getCoursePricing
  - name: getInvite
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/invite/get'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: getOrgInvite
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/organization/invite/get'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: getTrainersLevels
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/trainers/levels'
    permissions:
      - role: trainer
  - name: getXeroInvoicesForOrders
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/xero/invoices'
    permissions:
      - role: sales-admin
      - role: tt-admin
      - role: tt-ops
  - name: go1LicensesChange
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/go1-licensing/change'
    permissions:
      - role: tt-admin
    comment: go1LicensesChange
  - name: importLegacyCertificate
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/certificate/import-legacy'
    permissions:
      - role: user
  - name: initAuth
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/user/auth'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: isUserSubscribedToMembership
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/stripe/subscriptions/check'
    comment: Checks whether user is subscribed to membership
  - name: mergeUser
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/merge'
      forward_client_headers: true
    permissions:
      - role: tt-ops
      - role: tt-admin
    comment: Merge users
  - name: plansCreate
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/stripe/prices/create'
    comment: Creates a membership plan
  - name: podcast
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/podcasts/single'
    permissions:
      - role: user
    comment: Podcast
  - name: podcasts
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/podcasts'
    permissions:
      - role: user
    comment: Podcasts list
  - name: replaceParticipant
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/replace-participant'
    permissions:
      - role: user
    comment: replaceParticipant
  - name: resendPassword
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/resend-password'
    permissions:
      - role: anonymous
  - name: searchTrainers
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/trainers/search'
    permissions:
      - role: sales-admin
      - role: trainer
  - name: stripeCreatePaymentIntent
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/stripe/create-payment-intent'
    permissions:
      - role: user
      - role: unverified
  - name: transferParticipant
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/transfer'
    permissions:
      - role: user
    comment: transferParticipant
  - name: updateAvatar
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/update-avatar'
      forward_client_headers: true
    permissions:
      - role: tt-admin
      - role: tt-ops
      - role: trainer
      - role: user
  - name: updateUserProfile
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/update'
    permissions:
      - role: unverified
      - role: anonymous
      - role: user
  - name: upsertZoomMeeting
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/zoom/upsert-meeting'
    permissions:
      - role: sales-admin
      - role: tt-ops
      - role: tt-admin
      - role: trainer
    comment: Creates or updates Zoom meeting with start date
  - name: verifyUser
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/user/verify'
      forward_client_headers: true
    permissions:
      - role: unverified
  - name: xeroCallback
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/xero/callback'
    permissions:
      - role: tt-admin
  - name: xeroConnect
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/xero/setup'
    permissions:
      - role: tt-admin
  - name: xeroContactSearch
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/xero/contacts/search'
    permissions:
      - role: tt-ops
  - name: xeroDisconnect
    definition:
      kind: synchronous
      handler: '{{ACTIONS_HOST}}/xero/disconnect'
  - name: xeroInvoicesStatus
    definition:
      kind: ""
      handler: '{{ACTIONS_HOST}}/xero/invoices/status'
    permissions:
      - role: sales-admin
      - role: tt-admin
custom_types:
  enums:
    - name: BillingInterval
      values:
        - value: day
          is_deprecated: null
          description: null
        - value: week
          is_deprecated: null
          description: null
        - value: month
          is_deprecated: null
          description: null
        - value: year
          is_deprecated: null
          description: null
    - name: InviteStatus
      values:
        - value: PENDING
          is_deprecated: null
          description: null
        - value: ACCEPTED
          is_deprecated: null
          description: null
        - value: DECLINED
          is_deprecated: null
          description: null
    - name: CourseLevel
      values:
        - value: LEVEL_1
          is_deprecated: null
          description: null
        - value: LEVEL_2
          is_deprecated: null
          description: null
        - value: ADVANCED
          is_deprecated: null
          description: null
        - value: BILD_ACT
          is_deprecated: null
          description: null
        - value: INTERMEDIATE_TRAINER
          is_deprecated: null
          description: null
        - value: ADVANCED_TRAINER
          is_deprecated: null
          description: null
        - value: BILD_ACT_TRAINER
          is_deprecated: null
          description: null
    - name: SearchTrainerAvailability
      values:
        - value: UNAVAILABLE
          is_deprecated: null
          description: null
        - value: AVAILABLE
          is_deprecated: null
          description: null
        - value: PENDING
          is_deprecated: null
          description: null
        - value: EXPIRED
          is_deprecated: null
          description: null
    - name: CourseTrainerType
      values:
        - value: LEADER
          is_deprecated: null
          description: null
        - value: ASSISTANT
          is_deprecated: null
          description: null
        - value: MODERATOR
          is_deprecated: null
          description: null
    - name: Currency
      values:
        - value: GBP
          is_deprecated: null
          description: null
    - name: OrderDirection
      values:
        - value: ASC
          is_deprecated: null
          description: null
        - value: DESC
          is_deprecated: null
          description: null
    - name: XeroContactStatus
      values:
        - value: ACTIVE
          is_deprecated: null
          description: null
        - value: ARCHIVED
          is_deprecated: null
          description: null
        - value: GDPRREQUEST
          is_deprecated: null
          description: null
    - name: CourseType
      values:
        - value: OPEN
          is_deprecated: null
          description: null
        - value: CLOSED
          is_deprecated: null
          description: null
        - value: INDIRECT
          is_deprecated: null
          description: null
    - name: XeroInvoiceStatus
      values:
        - value: AUTHORISED
          is_deprecated: null
          description: null
        - value: DELETED
          is_deprecated: null
          description: null
        - value: DRAFT
          is_deprecated: null
          description: null
        - value: OVERDUE
          is_deprecated: null
          description: null
        - value: PAID
          is_deprecated: null
          description: null
        - value: SUBMITTED
          is_deprecated: null
          description: null
        - value: UNKNOWN
          is_deprecated: null
          description: null
        - value: VOIDED
          is_deprecated: null
          description: null
    - name: Go1ChangeType
      values:
        - value: LICENSES_ADDED
          is_deprecated: null
          description: null
        - value: LICENSES_REMOVED
          is_deprecated: null
          description: null
        - value: LICENSE_REVOKED
          is_deprecated: null
          description: null
        - value: LICENSES_RELEASED
          is_deprecated: null
          description: null
        - value: LICENSE_ISSUED
          is_deprecated: null
          description: null
        - value: LICENSES_PURCHASED
          is_deprecated: null
          description: null
    - name: PaymentMethod
      values:
        - value: CC
          is_deprecated: null
          description: null
        - value: INVOICE
          is_deprecated: null
          description: null
    - name: ReplaceParticipantError
      values:
        - value: NO_PARTICIPANT
          is_deprecated: null
          description: null
        - value: INVALID_EMAIL
          is_deprecated: null
          description: null
        - value: GENERIC_ERROR
          is_deprecated: null
          description: null
        - value: NOT_AUTHORIZED
          is_deprecated: null
          description: null
    - name: TransferFeeType
      values:
        - value: APPLY_TERMS
          is_deprecated: null
          description: null
        - value: CUSTOM_FEE
          is_deprecated: null
          description: null
        - value: FREE
          is_deprecated: null
          description: null
    - name: TransferFeeTypeEnum
      values:
        - value: APPLY_TERMS
          is_deprecated: null
          description: null
        - value: CUSTOM_FEE
          is_deprecated: null
          description: null
        - value: FREE
          is_deprecated: null
          description: null
    - name: Go1ChangeError
      values:
        - value: GENERIC_ERROR
          is_deprecated: null
          description: null
        - value: INVOICE_NOT_AUTHORIZED
          is_deprecated: null
          description: null
    - name: ConfirmCreditCardPaymentError
      values:
        - value: GENERIC_ERROR
          is_deprecated: null
          description: null
        - value: PAYMENT_NOT_SUCCEEDED
          is_deprecated: null
          description: null
        - value: ORDER_NOT_FOUND
          is_deprecated: null
          description: null
    - name: XeroPhoneType
      values:
        - value: DEFAULT
          is_deprecated: null
          description: null
        - value: DDI
          is_deprecated: null
          description: null
        - value: FAX
          is_deprecated: null
          description: null
        - value: MOBILE
          is_deprecated: null
          description: null
    - name: XeroAddressType
      values:
        - value: POBOX
          is_deprecated: null
          description: null
        - value: STREET
          is_deprecated: null
          description: null
    - name: TransferParticipantError
      values:
        - value: GENERAL_ERROR
          is_deprecated: null
          description: null
        - value: WRONG_COURSE_TYPE
          is_deprecated: null
          description: null
        - value: PARTICIPANT_NOT_FOUND
          is_deprecated: null
          description: null
        - value: COURSE_NOT_FOUND
          is_deprecated: null
          description: null
        - value: NOT_ELIGIBLE_FOR_TRANSFER
          is_deprecated: null
          description: null
        - value: TRANSFER_NOT_ALLOWED
          is_deprecated: null
          description: null
        - value: NOT_ENOUGH_SPACES
          is_deprecated: null
          description: null
    - name: CourseDeliveryType
      values:
        - value: F2F
          is_deprecated: null
          description: null
        - value: MIXED
          is_deprecated: null
          description: null
        - value: VIRTUAL
          is_deprecated: null
          description: null
    - name: MergeUserError
      values:
        - value: GENERAL_ERROR
          is_deprecated: null
          description: null
    - name: DeleteUserError
      values:
        - value: GENERAL_ERROR
          is_deprecated: null
          description: null
        - value: CERT_EXIST
          is_deprecated: null
          description: null
        - value: SELF_DELETE
          is_deprecated: null
          description: null
        - value: USER_TRAINER
          is_deprecated: null
          description: null
  input_objects:
    - name: PlansCreateInput
    - name: UpsertZoomMeetingInput
    - name: GetTrainersLevelsInput
    - name: StripeCreatePaymentIntentInput
    - name: SearchTrainersInput
    - name: Ordering
    - name: PodcastsInput
    - name: Paging
    - name: XeroCallbackInput
    - name: XeroContactSearchInput
    - name: CreateAppUserInput
    - name: GetCoursePricingInput
    - name: XeroInvoicesStatusInput
    - name: Go1LicensesChangeInput
    - name: CanApplyPromoCodeInput
    - name: CreateOrderInput
    - name: ReplaceParticipantInput
    - name: TransferFee
    - name: TransferInput
    - name: GetOrdersInput
    - name: UpdateUserProfileInput
  objects:
    - name: LinkProfileResult
    - name: PlansCreateResult
    - name: PlanObject
    - name: createSubscriptionOutput
    - name: isUserSubscribedToMembershipResponse
    - name: DeclineInviteOutput
    - name: DeclineOrgInviteOutput
    - name: AcceptOrgInviteOutput
    - name: Invite
    - name: CourseInvite
    - name: OrgInvite
    - name: Address
    - name: UpsertZoomMeetingPayload
    - name: ZoomMeeting
    - name: ZoomMeetingNotFoundError
    - name: TrainerLevels
    - name: StripeCreatePaymentIntentOutput
    - name: SearchTrainer
    - name: Podcast
    - name: PodcastsPayload
    - name: PodcastPayload
    - name: XeroConnectOutput
    - name: XeroCallbackOutput
    - name: XeroContactSearchOutput
    - name: XeroContact
    - name: XeroPhone
    - name: XeroAddress
    - name: CreateUserOutput
    - name: InitAuthOutput
    - name: GetCoursePricingOutput
    - name: XeroInvoicesStatusOutput
    - name: XeroInvoiceStatusKV
    - name: XeroDisconnectOutput
    - name: XeroInvoice
    - name: XeroItem
    - name: XeroLineItem
    - name: Go1LicensesChangeOutput
    - name: UpdateAvatarResponse
    - name: CanApplyPromoCodeOutput
    - name: CreateOrderOutput
    - name: TransferCourse
    - name: TransferParticipantOutput
    - name: ReplaceParticipantOutput
    - name: TrainerRoleTypeObj
    - name: TrainerRoleType
    - name: CourseCertificateLevel
    - name: PromoCodeOutput
    - name: ConfirmCreditCardPaymentOutput
    - name: XeroTrackingCategory
    - name: GetOrdersOutput
    - name: Order
    - name: OrderInfo
    - name: OrganizationInfo
    - name: MergeUserOutput
    - name: DeleteUserOutput
  scalars:
    - name: Date
