table:
  schema: public
  name: legacy_certificate
configuration:
  custom_root_fields: {}
  column_config:
    legacy_id:
      custom_name: legacyId
    first_name:
      custom_name: firstName
    course_name:
      custom_name: courseName
    certification_date:
      custom_name: certificationDate
    original_record:
      custom_name: originalRecord
    expiry_date:
      custom_name: expiryDate
    updated_at:
      custom_name: updatedAt
    last_name:
      custom_name: lastName
    created_at:
      custom_name: createdAt
    course_certificate_id:
      custom_name: courseCertificateId
  custom_column_names:
    legacy_id: legacyId
    first_name: firstName
    course_name: courseName
    certification_date: certificationDate
    original_record: originalRecord
    expiry_date: expiryDate
    updated_at: updatedAt
    last_name: lastName
    created_at: createdAt
    course_certificate_id: courseCertificateId
object_relationships:
  - name: courseCertificate
    using:
      foreign_key_constraint_on: course_certificate_id
select_permissions:
  - role: trainer
    permission:
      columns:
        - id
        - created_at
        - updated_at
        - original_record
        - number
        - course_name
        - legacy_id
        - email
        - first_name
        - last_name
        - expiry_date
        - certification_date
        - course_certificate_id
      filter: {}
  - role: user
    permission:
      columns:
        - certification_date
        - course_certificate_id
        - course_name
        - expiry_date
        - first_name
        - id
        - last_name
        - number
      filter: {}
update_permissions:
  - role: user
    permission:
      columns:
        - course_certificate_id
      filter:
        course_certificate_id:
          _is_null: true
      check:
        courseCertificate:
          profile_id:
            _eq: X-Hasura-User-Id
