table:
  schema: public
  name: course
configuration:
  custom_root_fields: {}
  column_config:
    aol_cost_of_course:
      custom_name: aolCostOfCourse
    course_type:
      custom_name: type
    aol_region:
      custom_name: aolRegion
    aol_country:
      custom_name: aolCountry
    course_status:
      custom_name: status
    grading_confirmed:
      custom_name: gradingConfirmed
    course_level:
      custom_name: level
    updated_at:
      custom_name: updatedAt
    created_at:
      custom_name: createdAt
    go1_integration:
      custom_name: go1Integration
    contact_profile_id:
      custom_name: contactProfileId
    course_delivery_type:
      custom_name: deliveryType
  custom_column_names:
    aol_cost_of_course: aolCostOfCourse
    course_type: type
    aol_region: aolRegion
    aol_country: aolCountry
    course_status: status
    grading_confirmed: gradingConfirmed
    course_level: level
    updated_at: updatedAt
    created_at: createdAt
    go1_integration: go1Integration
    contact_profile_id: contactProfileId
    course_delivery_type: deliveryType
object_relationships:
  - name: contactProfile
    using:
      foreign_key_constraint_on: contact_profile_id
  - name: organization
    using:
      foreign_key_constraint_on: organization_id
array_relationships:
  - name: evaluation_answers
    using:
      foreign_key_constraint_on:
        column: course_id
        table:
          schema: public
          name: course_evaluation_answers
  - name: modules
    using:
      foreign_key_constraint_on:
        column: course_id
        table:
          schema: public
          name: course_module
  - name: participants
    using:
      foreign_key_constraint_on:
        column: course_id
        table:
          schema: public
          name: course_participant
  - name: schedule
    using:
      foreign_key_constraint_on:
        column: course_id
        table:
          schema: public
          name: course_schedule
  - name: trainers
    using:
      foreign_key_constraint_on:
        column: course_id
        table:
          schema: public
          name: course_trainer
insert_permissions:
  - role: trainer
    permission:
      check: {}
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      backend_only: false
  - role: tt-ops
    permission:
      check: {}
      columns:
        - go1_integration
        - grading_confirmed
        - reaccreditation
        - id
        - max_participants
        - min_participants
        - aol_cost_of_course
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - description
        - name
        - created_at
        - updated_at
        - contact_profile_id
        - organization_id
      backend_only: false
select_permissions:
  - role: anonymous
    permission:
      columns:
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - id
        - max_participants
        - min_participants
        - name
        - reaccreditation
        - updated_at
      filter:
        _and:
          - course_type:
              _eq: OPEN
          - course_status:
              _eq: SCHEDULED
  - role: trainer
    permission:
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      filter:
        _or:
          - trainers:
              profile_id:
                _eq: X-Hasura-User-Id
          - organization:
              members:
                _and:
                  - profile_id:
                      _eq: X-Hasura-User-Id
                  - is_admin:
                      _eq: true
      allow_aggregations: true
  - role: tt-ops
    permission:
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      filter: {}
      allow_aggregations: true
  - role: unverified
    permission:
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      filter:
        course_type:
          _eq: OPEN
  - role: user
    permission:
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      filter:
        _or:
          - participants:
              profile_id:
                _eq: X-Hasura-User-Id
          - course_type:
              _eq: OPEN
      allow_aggregations: true
update_permissions:
  - role: trainer
    permission:
      columns:
        - aol_cost_of_course
        - aol_country
        - aol_region
        - contact_profile_id
        - course_delivery_type
        - course_level
        - course_status
        - created_at
        - description
        - go1_integration
        - grading_confirmed
        - id
        - max_participants
        - min_participants
        - name
        - organization_id
        - reaccreditation
        - updated_at
      filter:
        _or:
          - trainers:
              profile_id:
                _eq: X-Hasura-User-Id
          - organization:
              members:
                _and:
                  - profile_id:
                      _eq: X-Hasura-User-Id
                  - is_admin:
                      _eq: true
      check: null
  - role: tt-ops
    permission:
      columns:
        - go1_integration
        - grading_confirmed
        - reaccreditation
        - id
        - max_participants
        - min_participants
        - aol_cost_of_course
        - course_delivery_type
        - course_level
        - course_status
        - course_type
        - description
        - name
        - created_at
        - updated_at
        - contact_profile_id
        - organization_id
      filter: {}
      check: {}
  - role: user
    permission:
      columns:
        - course_status
        - grading_confirmed
      filter:
        trainers:
          profile_id:
            _eq: X-Hasura-User-Id
      check: null
delete_permissions:
  - role: tt-ops
    permission:
      filter: {}
