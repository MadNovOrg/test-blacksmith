table:
  schema: public
  name: profile_temp
configuration:
  custom_root_fields: {}
  column_config:
    course_id:
      custom_name: courseId
    job_title:
      custom_name: jobTitle
    given_name:
      custom_name: givenName
    accept_tcs:
      custom_name: acceptTnc
    family_name:
      custom_name: familyName
    organization_id:
      custom_name: organizationId
    created_at:
      custom_name: createdAt
    accept_marketing:
      custom_name: acceptMarketing
  custom_column_names:
    course_id: courseId
    job_title: jobTitle
    given_name: givenName
    accept_tcs: acceptTnc
    family_name: familyName
    organization_id: organizationId
    created_at: createdAt
    accept_marketing: acceptMarketing
object_relationships:
  - name: course
    using:
      foreign_key_constraint_on: course_id
insert_permissions:
  - role: anonymous
    permission:
      check: {}
      columns:
        - accept_marketing
        - accept_tcs
        - course_id
        - created_at
        - dob
        - email
        - family_name
        - given_name
        - id
        - job_title
        - organization_id
        - phone
        - quantity
        - sector
      backend_only: false
  - role: sales-admin
    permission:
      check: {}
      set:
        email: x-hasura-User-email
      columns:
        - accept_marketing
        - accept_tcs
        - dob
        - course_id
        - id
        - quantity
        - email
        - family_name
        - given_name
        - job_title
        - phone
        - sector
        - created_at
        - organization_id
      backend_only: false
  - role: unverified
    permission:
      check: {}
      set:
        email: x-hasura-User-Email
      columns:
        - accept_marketing
        - accept_tcs
        - course_id
        - dob
        - family_name
        - given_name
        - job_title
        - phone
        - quantity
        - sector
      backend_only: false
  - role: user
    permission:
      check: {}
      set:
        email: x-hasura-User-Email
      columns:
        - accept_marketing
        - accept_tcs
        - course_id
        - dob
        - family_name
        - given_name
        - job_title
        - phone
        - quantity
        - sector
      backend_only: false
select_permissions:
  - role: unverified
    permission:
      columns:
        - accept_marketing
        - accept_tcs
        - dob
        - course_id
        - id
        - quantity
        - email
        - family_name
        - given_name
        - job_title
        - phone
        - sector
        - created_at
        - organization_id
      filter:
        email:
          _eq: X-Hasura-User-Email
  - role: user
    permission:
      columns:
        - accept_marketing
        - accept_tcs
        - dob
        - course_id
        - id
        - quantity
        - email
        - family_name
        - given_name
        - job_title
        - phone
        - sector
        - created_at
        - organization_id
      filter:
        email:
          _eq: X-Hasura-User-Email
delete_permissions:
  - role: unverified
    permission:
      filter:
        email:
          _eq: X-Hasura-User-Email
  - role: user
    permission:
      filter:
        email:
          _eq: X-Hasura-User-Email
